import type { Emits, Props } from "./{{pascalCase name}}.ce.vue";
import { renderToStringSync } from "@/utils/renderToStringSync";
import { defineCustomElement, h } from "vue";
import {{pascalCase name}}Ce from "./{{pascalCase name}}.ce.vue";

const style = ({{pascalCase name}}Ce as any).styles?.[0] ?? "" as string;

const getHtmlString = (props: Props) => {
  const node = h({{pascalCase name}}Ce, props);
  const renderedNode = renderToStringSync(node);

  return renderedNode;
};

export class {{pascalCase name}} extends defineCustomElement({{pascalCase name}}Ce) {}

export const {{pascalCase name}}Util: {
  style: typeof style;
  getHtmlString: typeof getHtmlString;
} = {
  style,
  getHtmlString,
};

export type {{pascalCase name}}Type = {
  Emit: Emits;
  Props: Props;
};
